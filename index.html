<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<meta name="color-scheme" content="dark light" />
<meta name="theme-color" content="#0b0d0f" />

<title>THEGRID — Black & Gold</title>

<style>
/* =============================
   THEGRID — Black & Gold (one-file build)
   ============================= */

/* ---- CSS Reset / Baseline ---- */
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
html,body{margin:0;padding:0}
img,video{display:block;max-width:100%;height:auto}
button,input,select{font:inherit}
html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-rendering:optimizeLegibility}
@media (prefers-reduced-motion:reduce){
  *{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}
}

/* ---- Theme Tokens ---- */
:root{
  --bg:#0b0d0f;
  --panel:#0f1216;
  --text:#e9eaec;
  --muted:#a7aab1;
  --gold:#e6c26e;
  --gold-2:#f6e3a4;
  --ring:#242a34;
  --soft:#141820;
  --radius:22px;
  --shadow:0 10px 40px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.04);
}

/* ---- Background ---- */
body{
  background:
    radial-gradient(1200px 600px at 70% -10%, rgba(246,203,92,.08), rgba(0,0,0,0) 60%),
    radial-gradient(900px 500px at 10% -10%, rgba(246,203,92,.06), rgba(0,0,0,0) 60%),
    linear-gradient(180deg, #0b0d0f 0%, #0b0d0f 100%);
  color:var(--text);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Inter, Roboto, Arial, sans-serif;
}

/* ---- Utility ---- */
.wrap{max-width:1100px;margin:0 auto;padding:16px 20px 80px}
.row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}

/* ---- Header Pills ---- */
.pill{
  display:inline-flex;align-items:center;gap:8px;
  padding:12px 18px;border:1px solid rgba(246,203,92,.35);
  border-radius:999px;background:linear-gradient(180deg,#141820,#0e1116);
  box-shadow: var(--shadow);
}
.brand{font-weight:700;letter-spacing:.2px}
.cta{
  text-decoration:none;color:var(--text);
  border:1px solid rgba(246,203,92,.45);
  border-radius:999px;padding:12px 20px;
  background:linear-gradient(180deg, rgba(246,203,92,.15), rgba(246,203,92,.05));
  box-shadow:0 0 0 1px rgba(246,203,92,.25) inset, 0 10px 25px rgba(246,203,92,.08);
}
.cta:hover{filter:brightness(1.08)}

/* ---- Top Control Bar ---- */
.control{
  border:1px solid var(--ring);
  border-radius:20px;background:linear-gradient(180deg,#11151b,#0e1116);
  box-shadow: var(--shadow);
  padding:10px 12px;
}
.control select, .control button{
  background:#0f141a;border:1px solid #262c36;color:var(--text);
  padding:10px 12px;border-radius:10px;
}
.save{background:linear-gradient(180deg, rgba(246,203,92,.18), rgba(246,203,92,.06));border-color:rgba(246,203,92,.45)}

/* ---- Card / Hero ---- */
.card{
  border:1px solid rgba(246,203,92,.24);
  background:linear-gradient(180deg,#12161c,#0d1116);
  box-shadow: var(--shadow);
  border-radius:var(--radius); padding:18px;
}
.heroBox{
  position:relative;border-radius:calc(var(--radius) - 6px);overflow:hidden;
  background:radial-gradient(600px 220px at 50% -10%,rgba(246,203,92,.1),transparent 60%), #0b0f14;
  min-height:260px;
}
.heroBox video, .heroBox img{
  position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity .6s ease;
}
.heroBox .on{opacity:1}

/* ---- H1 / Text ---- */
h1{font-size:clamp(30px,5vw,56px);line-height:1.05;margin:22px 0 10px}
h1 .gold{color:var(--gold)}
.lead{color:var(--muted);max-width:70ch}

/* ---- Buttons Row ---- */
.btn{
  border:1px solid #242a33;background:#10151c;border-radius:18px;padding:14px 18px;
}
.btn.gold{border-color:rgba(246,203,92,.45);
  background:linear-gradient(180deg,rgba(246,203,92,.22),rgba(246,203,92,.07));
  box-shadow: 0 8px 24px rgba(246,203,92,.15);
}

/* ---- Customizer (no-login local) ---- */
#libOpen{
  position:fixed;right:14px;bottom:20px;z-index:50;
  border:1px solid rgba(246,203,92,.45);border-radius:999px;
  background:linear-gradient(180deg,#151a22,#10151b);color:var(--text);padding:10px 14px;
}
#libPanel{
  position:fixed;right:12px;bottom:86px;width:min(420px,94vw);max-height:76vh;overflow:auto;z-index:60;
  border:1px solid #242833;border-radius:16px;background:#0f141a;box-shadow: var(--shadow);padding:14px;
  display:none;
}
#libPanel.show{display:block}
#libPanel h3{margin:6px 0 10px}
.lib-row{display:flex;gap:8px;align-items:center;margin:10px 0}
.lib-row label{width:140px;color:#a7aab1}
.lib-row input[type="text"]{flex:1;background:#0f1216;border:1px solid #262c36;color:var(--text);padding:10px;border-radius:10px}
.lib-row input[type="range"]{flex:1}
.lib-row input[type="color"]{width:56px;height:34px;border:0;background:transparent}
.small{font-size:12px;color:#9aa3ad}

/* ---- Confetti Canvas ---- */
#confetti{position:fixed;inset:0;pointer-events:none;z-index:40}
</style>
</head>

<body>
<canvas id="confetti"></canvas>

<div class="wrap">
  <header class="row" style="justify-content:space-between;align-items:center;margin:8px 0 12px">
    <div class="pill brand" id="greet">Welcome — THEGRID</div>
    <a href="#join" class="cta">Join Now</a>
  </header>

  <div class="row control">
    <div class="row" style="flex:1">
      <label class="small">Role:</label>
      <select id="roleSel">
        <option>User (My View)</option>
        <option>Admin (Preview)</option>
      </select>

      <label class="small" style="margin-left:10px">Hero:</label>
      <select id="heroSel">
        <option value="video">Video</option>
        <option value="image">Image</option>
        <option value="auto" selected>Auto</option>
      </select>

      <label class="small" style="margin-left:10px">Reels set:</label>
      <select id="reelsSel">
        <option>Auto (landscape_*.mp4)</option>
      </select>
    </div>
    <button class="save" id="saveView">Save My View</button>
  </div>

  <section class="card" style="margin-top:14px">
    <div class="heroBox" id="hero">
      <!-- Video prefers autoplay; image is fallback -->
      <video id="heroVideo" playsinline webkit-playsinline muted autoplay loop preload="auto" poster="assets/images/gc_logo.png"></video>
      <img id="heroImg" alt="GC Logo" src="assets/images/gc_logo.png"/>
    </div>

    <h1><span class="gold">Black & Gold</span><br/>Performance Creativity</h1>
    <p class="lead">
      Cinematic reels + a savable system. Replace files with the same names and the site updates itself.
    </p>

    <div class="row" style="margin-top:10px">
      <a class="btn gold" href="#niches">Explore Niches</a>
      <a class="btn" href="#reels">Cinematic Reels</a>
      <a class="btn" href="#monetise" id="monetiseBtn">Monetise</a>
    </div>
  </section>

  <!-- ===== Mini Customizer (local only) ===== -->
  <button id="libOpen">Customize</button>

  <aside id="libPanel" aria-label="Customizer">
    <h3>Customizer</h3>

    <div class="lib-row">
      <label>Background</label>
      <input type="color" id="bgPick" value="#0b0d0f">
    </div>

    <div class="lib-row">
      <label>Gold accent</label>
      <input type="color" id="goldPick" value="#e6c26e">
    </div>

    <div class="lib-row">
      <label>Pattern</label>
      <select id="patSel">
        <option value="on" selected>On</option>
        <option value="off">Off</option>
      </select>
    </div>

    <div class="lib-row">
      <label>Border radius</label>
      <input type="range" id="radRange" min="8" max="36" value="22">
    </div>

    <div class="lib-row">
      <label>Hero video</label>
      <input type="text" id="vidSrc" value="assets/video/gc_spin.mp4">
    </div>

    <div class="lib-row">
      <label>Hero image</label>
      <input type="text" id="imgSrc" value="assets/images/gc_logo.png">
    </div>

    <p class="small">Changes save to your device only (localStorage). Visitors don’t see your panel or your test changes.</p>
  </aside>
</div>

<script>
/* =============================
   JS (embedded for one-file update)
   ============================= */

/* ---- Cache-bust helper (unused now, kept for future) ---- */
const bust = (url) => url + (url.includes('?') ? '&' : '?') + 'v=' + Date.now();

/* ---- Greeting ---- */
(function greet(){
  const el = document.getElementById('greet');
  const h = new Date().getHours();
  const t = h < 5 ? 'Good night' : h < 12 ? 'Good morning' : h < 18 ? 'Good afternoon' : 'Good evening';
  el.textContent = t + ' — THEGRID';
  // celebratory micro burst when page opens
  confettiBurst({amount:120, spread:65, gravity:1});
})();

/* ---- Hero loader with robust autoplay fallback ---- */
const hero = document.getElementById('hero');
const vEl = document.getElementById('heroVideo');
const iEl = document.getElementById('heroImg');

const state = {
  mode: (localStorage.getItem('heroMode') || 'auto'),
  vSrc: (localStorage.getItem('heroVideo') || 'assets/video/gc_spin.mp4'),
  iSrc: (localStorage.getItem('heroImage') || 'assets/images/gc_logo.png')
};

function tryPlayVideo(){
  return new Promise(resolve=>{
    vEl.src = state.vSrc;
    vEl.load();
    const play = vEl.play();
    if (play !== undefined){
      play.then(()=> resolve(true)).catch(()=> resolve(false));
    } else { resolve(false); }
  });
}

async function loadHero(){
  // preload image
  iEl.src = state.iSrc;

  if(state.mode === 'image'){
    vEl.classList.remove('on'); iEl.classList.add('on'); return;
  }

  // auto/video: try autoplay (Safari iOS needs muted+playsinline)
  const ok = await tryPlayVideo();
  if(ok || state.mode === 'video'){
    iEl.classList.remove('on'); vEl.classList.add('on');
  }else{
    vEl.classList.remove('on'); iEl.classList.add('on');
  }
}
loadHero();

/* ---- Top bar controls ---- */
document.getElementById('saveView').addEventListener('click',()=>{
  localStorage.setItem('heroMode', document.getElementById('heroSel').value);
  confettiBurst({amount:220, spread:72, gravity:1.02});
});

document.getElementById('heroSel').addEventListener('change', (e)=>{
  state.mode = e.target.value;
  localStorage.setItem('heroMode', state.mode);
  loadHero();
});

/* ---- Customizer (local only, no login) ---- */
const libBtn = document.getElementById('libOpen');
const lib = document.getElementById('libPanel');

libBtn.addEventListener('click', ()=>{
  lib.classList.toggle('show');
  if(lib.classList.contains('show')) loadCustomizer();
});

function setVar(k,v){ document.documentElement.style.setProperty(k,v); }

function loadCustomizer(){
  // seed inputs
  document.getElementById('bgPick').value = localStorage.getItem('bg') || '#0b0d0f';
  document.getElementById('goldPick').value = localStorage.getItem('gold') || '#e6c26e';
  document.getElementById('patSel').value = localStorage.getItem('pat') || 'on';
  document.getElementById('radRange').value = localStorage.getItem('rad') || '22';
  document.getElementById('vidSrc').value = state.vSrc;
  document.getElementById('imgSrc').value = state.iSrc;

  applyTheme();
}

function applyTheme(){
  const bg = document.getElementById('bgPick').value;
  const gold = document.getElementById('goldPick').value;
  const pat = document.getElementById('patSel').value;
  const rad = document.getElementById('radRange').value;

  localStorage.setItem('bg', bg);
  localStorage.setItem('gold', gold);
  localStorage.setItem('pat', pat);
  localStorage.setItem('rad', rad);

  setVar('--bg', bg);
  setVar('--gold', gold);
  setVar('--radius', rad + 'px');

  // subtle pattern toggle
  document.body.style.background =
    (pat==='on'
      ? 'radial-gradient(1200px 600px at 70% -10%, rgba(246,203,92,.08), transparent 60%), radial-gradient(900px 500px at 10% -10%, rgba(246,203,92,.06), transparent 60%), linear-gradient(180deg,'+bg+','+bg+')'
      : 'linear-gradient(180deg,'+bg+','+bg+')');
}

// listeners
['bgPick','goldPick','patSel','radRange'].forEach(id=>{
  document.getElementById(id).addEventListener('input', applyTheme);
});

document.getElementById('vidSrc').addEventListener('change',(e)=>{
  state.vSrc = e.target.value.trim(); localStorage.setItem('heroVideo', state.vSrc); loadHero();
});
document.getElementById('imgSrc').addEventListener('change',(e)=>{
  state.iSrc = e.target.value.trim(); localStorage.setItem('heroImage', state.iSrc); loadHero();
});

// apply saved theme on boot
(function bootTheme(){
  const bg = localStorage.getItem('bg'); const gold = localStorage.getItem('gold');
  const pat = localStorage.getItem('pat'); const rad = localStorage.getItem('rad');
  if(bg){ setVar('--bg', bg); }
  if(gold){ setVar('--gold', gold); }
  if(rad){ setVar('--radius', rad + 'px'); }
  if(pat){ document.getElementById('patSel').value = pat; applyTheme(); }
})();

/* ---- Monetise button celebration (scaled by "amount") ---- */
document.getElementById('monetiseBtn').addEventListener('click', ()=>{
  confettiBurst({amount:420, spread:75, gravity:0.96, scalar:1.2, duration:1600});
});

/* ==========================================
   Confetti — full-screen, auto-clearing
   ========================================== */
const cCan = document.getElementById('confetti');
const cCtx = cCan.getContext('2d');
let DPR = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
function sizeCanvas(){
  cCan.width = Math.floor(window.innerWidth * DPR);
  cCan.height = Math.floor(window.innerHeight * DPR);
}
sizeCanvas(); addEventListener('resize', sizeCanvas, {passive:true});

let confetti = [];
function confettiBurst(opts){
  const {
    amount=200, spread=60, gravity=1, scalar=1, duration=1200
  } = opts || {};

  // create pieces
  const colors = ['#e6c26e','#f6e3a4','#ffffff','#caa34e','#ffdf88'];
  const cx = cCan.width/2, cy = cCan.height*0.18;
  for(let i=0;i<amount;i++){
    const angle = (-90 + (Math.random()*spread - spread/2)) * Math.PI/180;
    const speed = (8 + Math.random()*6) * DPR;
    confetti.push({
      x:cx, y:cy,
      vx: Math.cos(angle)*speed,
      vy: Math.sin(angle)*speed,
      w: (6 + Math.random()*8)*scalar*DPR,
      h: (10 + Math.random()*16)*scalar*DPR,
      rot: Math.random()*Math.PI, vr:(-0.25+Math.random()*0.5),
      color: colors[(Math.random()*colors.length)|0],
      life: duration + Math.random()*400
    });
  }
  if(!animating) animateConfetti(gravity);
}
let animating=false;
function animateConfetti(gravity){
  animating=true;
  let last = performance.now();
  function f(t){
    const dt = Math.min(32, t-last); last=t;
    cCtx.clearRect(0,0,cCan.width,cCan.height);

    confetti = confetti.filter(p=> (p.life-=dt) > 0 && p.y < cCan.height + 60*DPR);
    for(const p of confetti){
      p.vy += 0.045*gravity*DPR*dt/16;
      p.x += p.vx; p.y += p.vy; p.rot += p.vr*dt/16;
      cCtx.save();
      cCtx.translate(p.x,p.y); cCtx.rotate(p.rot);
      cCtx.fillStyle = p.color;
      cCtx.fillRect(-p.w/2,-p.h/2,p.w,p.h);
      cCtx.restore();
    }
    if(confetti.length){ requestAnimationFrame(f); }
    else{ animating=false; cCtx.clearRect(0,0,cCan.width,cCan.height); } // auto-clear
  }
  requestAnimationFrame(f);
}
</script>
</body>
</html>
