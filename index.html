<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="color-scheme" content="dark light">
<title>THE GRID — Elite results. Zero friction.</title>
<style>
:root{--bg:#0d0f12;--card:#12151a;--tx:#e7edf3;--muted:#a8b2c0;--hi:#2be4ff;--ink:#01242b}
*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--tx);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
.wrap{max-width:940px;margin:0 auto;padding:22px}
.hero{background:var(--card);border-radius:20px;padding:22px;box-shadow:0 10px 40px rgba(0,0,0,.35);margin:16px 0}
h1{margin:0 0 6px;font-size:30px;letter-spacing:.2px}
p{margin:0 0 12px;color:var(--muted)}
.row{display:grid;gap:12px;margin:12px 0}
.btn{display:inline-block;background:var(--hi);color:var(--ink);font-weight:700;padding:12px 16px;border-radius:12px;text-decoration:none}
.btn.secondary{background:#1fc5da;color:#012126}
.card{background:var(--card);border-radius:18px;padding:18px;box-shadow:0 10px 40px rgba(0,0,0,.35);margin:14px 0}
small{color:var(--muted)}
hr{border:0;border-top:1px solid rgba(255,255,255,.07);margin:14px 0}
.badge{display:inline-block;background:rgba(43,228,255,.12);color:#9beeff;border:1px solid rgba(43,228,255,.45);padding:6px 10px;border-radius:12px;font-size:12px;margin-right:6px}
.flex{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.price{font-weight:800}
.plan{display:flex;justify-content:space-between;align-items:center;gap:12px}
.copy{font-size:12px;border:1px solid rgba(255,255,255,.15);padding:6px 8px;border-radius:8px;background:transparent;color:var(--tx)}
.footer{opacity:.8;margin:26px 0 12px}
.warn{background:#251a1a;border:1px solid #402; color:#f5b; padding:10px;border-radius:10px}
</style>
</head>
<body>
  <div class="wrap">
    <div class="hero">
      <div class="flex">
        <h1>THE GRID</h1>
        <span class="badge">Mobile‑first</span>
        <span class="badge">Self‑updating</span>
        <span class="badge">UK‑ready</span>
      </div>
      <p>Elite results. Zero friction. Always learning.</p>
      <div class="row">
        <a class="btn" href="#pricing">Get Access</a>
        <a class="btn secondary" href="#how">How it works</a>
      </div>
      <small id="stamp"></small>
    </div>

    <div id="how" class="card">
      <h2>How it works</h2>
      <p>Everything on this page pulls from two tiny JSON files: <code>updates.json</code> and <code>config.json</code>. To update the site, just delete & paste the new JSON and commit.</p>
      <ul>
        <li><b>Fast:</b> No frameworks. Pure HTML + a few lines of JS.</li>
        <li><b>Stable:</b> No Jekyll processing (thanks to <code>.nojekyll</code>).</li>
        <li><b>Simple:</b> Mobile‑friendly “delete → paste → commit” workflow.</li>
      </ul>
    </div>

    <div class="card">
      <h2>Live Updates</h2>
      <div id="updates">Loading…</div>
    </div>

    <div id="pricing" class="card">
      <h2>Pricing</h2>
      <div id="plans">Loading…</div>
      <hr>
      <div id="paylinks" class="flex"></div>
      <small>Prices include UK VAT when charged by the processor.</small>
    </div>

    <div class="card">
      <h2>Instant copy</h2>
      <p>One‑tap copy of your hosted checkout links (when set in <code>config.json</code>).</p>
      <div class="flex">
        <button class="copy" data-copy="stripe">Copy Stripe link</button>
        <button class="copy" data-copy="paypal">Copy PayPal link</button>
        <button class="copy" data-copy="revolut">Copy Revolut link</button>
      </div>
      <small id="copyStatus"></small>
    </div>

    <div class="footer">
      <small>© <span id="y"></span> THE GRID · <a class="btn secondary" style="padding:6px 10px;border-radius:8px" href="/terms.html">Terms</a> · <a class="btn secondary" style="padding:6px 10px;border-radius:8px" href="/privacy.html">Privacy</a></small>
    </div>

    <noscript><div class="warn">JavaScript is required to load pricing and updates.</div></noscript>
  </div>

<script>
const $ = s => document.querySelector(s);
const year = new Date().getFullYear();
$('#y').textContent = year;
$('#stamp').textContent = 'Built: ' + new Date().toLocaleString();

// Append cache-buster so your phone always fetches fresh JSON
const cacheBust = '?v=' + Date.now();

// Load updates
(async () => {
  try {
    const u = await fetch('updates.json' + cacheBust, {cache:'no-store'});
    const updates = await u.json();
    const html = (Array.isArray(updates) ? updates : (updates.updates||[]))
      .map(x => `
        <div class="card" style="padding:12px;margin:10px 0">
          <b>${x.title||'Update'}</b><br>
          <small>${x.date ? new Date(x.date).toLocaleString() : ''}</small>
          <p style="margin:6px 0 0">${x.body||x.message||''}</p>
        </div>
      `).join('') || '<small>No updates yet.</small>';
    $('#updates').innerHTML = html;
  } catch (e) {
    $('#updates').innerHTML = '<small>Couldn’t load updates.json</small>';
  }
})();

// Load config & pricing
let CFG = {};
(async () => {
  try {
    const c = await fetch('config.json' + cacheBust, {cache:'no-store'});
    CFG = await c.json();

    // Plans
    const plans = CFG.pricing || CFG.plans || [];
    $('#plans').innerHTML = plans.map(p => `
      <div class="plan card" style="margin:10px 0">
        <div>
          <div><b>${p.name}</b> · <span class="price">£${p.priceGBP ?? p.price}</span> / ${p.period||'month'}</div>
          <small>${(p.features||[]).join(' • ')}</small>
        </div>
        <a class="btn" href="${p.buyHref || '#'}">Buy</a>
      </div>
    `).join('') || '<small>No plans configured.</small>';

    // Payment quick links
    const pay = CFG.payments || {};
    const payLinks = [];
    if (pay.stripe) payLinks.push(`<a class="btn" href="${pay.stripe}">Stripe</a>`);
    if (pay.paypal) payLinks.push(`<a class="btn" href="${pay.paypal}">PayPal</a>`);
    if (pay.revolut) payLinks.push(`<a class="btn" href="${pay.revolut}">Revolut</a>`);
    $('#paylinks').innerHTML = payLinks.join(' ') || '<small>Add hosted links in config.json to show buttons.</small>';
  } catch (e) {
    $('#plans').innerHTML = '<small>Couldn’t load config.json</small>';
  }
})();

// Copy buttons
document.addEventListener('click', async (e) => {
  const b = e.target.closest('.copy');
  if (!b) return;
  try {
    const key = b.dataset.copy;
    const val = (CFG.payments||{})[key];
    if (!val) throw new Error('No link set in config.json');
    await navigator.clipboard.writeText(val);
    $('#copyStatus').textContent = key + ' link copied!';
    setTimeout(()=>$('#copyStatus').textContent='', 1500);
  } catch (err) {
    $('#copyStatus').textContent = err.message;
    setTimeout(()=>$('#copyStatus').textContent='', 2500);
  }
});
</script>
</body>
</html>
