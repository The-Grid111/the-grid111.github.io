<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>THEGRID — Hyper-Real & Niche Micro-Video System</title>
<link rel="stylesheet" href="assets/css/styles.css"/><!-- optional if you keep it -->

<style>
  :root{
    --bg:#060a11;--bg2:#0b1119;--card:#0f1622;--fg:#eaf3ff;--muted:#9fb1c7;--accent:#7df9ff;
    --border:rgba(255,255,255,.14);--radius:18px;--shadow:0 14px 40px rgba(0,0,0,.35)
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:linear-gradient(180deg,var(--bg),#070d14 35%,#070d14);color:var(--fg);
    font-family:ui-sans-serif,system-ui,Segoe UI,Inter,Roboto,Arial}
  img,video{max-width:100%;height:auto;display:block}
  a{color:var(--accent);text-decoration:none} a:hover{text-decoration:underline}
  .wrap{max-width:1240px;margin:0 auto;padding:0 18px}

  /* NAV */
  .nav{position:sticky;top:0;z-index:50;background:rgba(5,9,14,.45);backdrop-filter:saturate(120%) blur(8px);
    border-bottom:1px solid var(--border)}
  .nav-inner{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:14px 0}
  .brand{font-weight:800;letter-spacing:.4px}
  .nav-links{display:flex;gap:16px}
  .btn{background:var(--accent);color:#00232a;padding:10px 14px;border-radius:12px;font-weight:800}
  .btn.alt{background:transparent;color:var(--fg);border:1px solid var(--border)}
  .menu-btn{display:none}
  @media(max-width:780px){
    .nav-links{display:none}
    .menu-btn{display:inline-flex;gap:8px;align-items:center;background:#13202b;border:1px solid #243644;
      padding:9px 12px;border-radius:10px}
  }
  /* Drawer */
  .drawer{position:fixed;inset:0 0 0 auto;width:min(86%,360px);background:var(--bg2);translate:100% 0;
    transition:translate .35s ease;box-shadow:-24px 0 60px rgba(0,0,0,.35);border-left:1px solid var(--border);z-index:60}
  .drawer.open{translate:0 0}
  .drawer a{display:block;padding:14px 18px;border-bottom:1px solid rgba(255,255,255,.06)}
  .scrim{position:fixed;inset:0;background:rgba(0,0,0,.45);opacity:0;pointer-events:none;transition:opacity .25s}
  .scrim.show{opacity:1;pointer-events:auto}

  /* Sections */
  .section{padding:22px 0}
  .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:12px}
  h1{font-size:1.35rem;margin:20px 0 12px}
  h2{font-size:1.1rem;margin:0 0 12px;color:#d9e7ff}
  .hint{font-size:.92rem;opacity:.85}

  /* HERO */
  .hero-media{position:relative;border-radius:var(--radius);overflow:hidden;border:1px solid var(--border)}
  .hero-media .frame{width:100%}
  .hero-media video{display:none}
  .hero-media img{display:none}
  .hero-controls{display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
  .chip{background:#15222c;border:1px solid #2a3a46;color:#cfe9ff;border-radius:12px;padding:8px 12px;font-weight:700;cursor:pointer}

  /* Grid */
  .grid{display:grid;gap:14px}
  @media(min-width:720px){.grid{grid-template-columns:repeat(2,1fr)}}
  @media(min-width:1060px){.grid{grid-template-columns:repeat(3,1fr)}}
  .niche{transition:transform .25s ease, box-shadow .25s ease}
  .niche:hover{transform:translateY(-4px);box-shadow:0 16px 40px rgba(0,0,0,.45)}
  .niche img{border-radius:14px}

  /* Landscape reels (16:9 letterboxed) */
  .landscape{margin-top:28px}
  .reels{display:grid;gap:14px}
  @media(min-width:900px){.reels{grid-template-columns:repeat(2,1fr)}}
  @media(min-width:1300px){.reels{grid-template-columns:repeat(3,1fr)}}
  .reel{position:relative;border-radius:var(--radius);overflow:hidden;border:1px solid var(--border);background:#0a0f15}
  .reel .frame{position:relative;width:100%;aspect-ratio:16/9;background:#05080d}
  .reel video,.reel img{position:absolute;inset:0;width:100%;height:100%;object-fit:contain;background:#000}

  /* Updates board */
  .updates{display:grid;gap:14px}
  .u-card{border-radius:14px;border:1px solid var(--border);background:#0e1622;padding:12px}
  .u-head{display:flex;align-items:center;justify-content:space-between;gap:12px}
  .u-title{font-weight:800}
  .u-toggle{background:#15222c;border:1px solid #2a3a46;color:#cfe9ff;border-radius:10px;padding:6px 10px;cursor:pointer}
  .u-list{margin:10px 0 0;padding-left:18px}
  .u-list li{margin:6px 0}
  .fadein{opacity:0;transform:translateY(8px);transition:opacity .4s ease, transform .4s ease}
  .fadein.show{opacity:1;transform:none}

  footer{opacity:.75;font-size:.92rem;margin:30px 0 24px;text-align:center}
</style>
</head>
<body>

<!-- Sticky Nav -->
<div class="nav">
  <div class="wrap nav-inner">
    <div class="brand">THEGRID</div>
    <div class="nav-links">
      <a href="#hero">Hero</a>
      <a href="#niches">Niches</a>
      <a href="#reels">Reels</a>
      <a href="#updates">Live Updates</a>
      <a class="btn alt" href="#try">Try Free</a>
      <a class="btn" href="#join">Upgrade</a>
    </div>
    <button id="openMenu" class="menu-btn">Menu ▸</button>
  </div>
</div>
<div id="scrim" class="scrim"></div>
<nav id="drawer" class="drawer" aria-hidden="true">
  <a href="#hero">Hero</a>
  <a href="#niches">Niches</a>
  <a href="#reels">Reels</a>
  <a href="#updates">Live Updates</a>
  <a href="terms.html">Terms</a>
  <a href="privacy.html">Privacy</a>
</nav>

<div class="wrap">

  <!-- HERO -->
  <section id="hero" class="section card">
    <div class="hero-media">
      <!-- Vertical hero (muted autoplay) -->
      <video id="heroVideo" class="frame" src="assets/video/hero.mp4" playsinline muted loop preload="metadata" controls></video>
      <!-- Slideshow fallback -->
      <img class="frame heroSlide" src="assets/images/hero_1.jpg" alt="Hero 1" loading="lazy">
      <img class="frame heroSlide" src="assets/images/hero_2.jpg" alt="Hero 2" loading="lazy">
      <img class="frame heroSlide" src="assets/images/hero_3.jpg" alt="Hero 3" loading="lazy">
    </div>
    <div class="hero-controls">
      <button id="modeToggle" class="chip" hidden>Switch to Slideshow</button>
      <button id="muteToggle" class="chip" hidden>Unmute</button>
    </div>
    <div id="heroHint" class="hint">If <code>assets/video/hero.mp4</code> exists, it starts muted for autoplay — tap <b>Unmute</b> for sound.</div>
  </section>

  <!-- SIGNATURE NICHES -->
  <section id="niches" class="section">
    <h1>Signature Niches</h1>
    <div class="grid">
      <div class="card niche fadein"><img src="assets/images/grid_interaction_1.jpg" alt="Hypnotic Object Interaction" loading="lazy"></div>
      <div class="card niche fadein"><img src="assets/images/grid_pour_1.jpg"        alt="Cinematic Pour & Flow" loading="lazy"></div>
      <div class="card niche fadein"><img src="assets/images/grid_spread_1.jpg"      alt="Satisfying Spread / Smear" loading="lazy"></div>
      <div class="card niche fadein"><img src="assets/images/grid_transform_1.jpg"   alt="Transform & Reveal" loading="lazy"></div>
      <div class="card niche fadein"><img src="assets/images/grid_natural_1.jpg"     alt="Natural Element Power" loading="lazy"></div>
    </div>
  </section>

  <!-- CINEMATIC LANDSCAPE REELS -->
  <section id="reels" class="section card landscape">
    <h2>Cinematic Landscape Reels</h2>
    <div id="landscapeReels" class="reels"></div>
    <div class="hint">Drop 16:9 videos into <code>assets/video/landscape_#.mp4</code> — they’ll appear here automatically.</div>
  </section>

  <!-- LIVE UPDATES / ROADMAP -->
  <section id="updates" class="section">
    <h1>Live Updates & Roadmap</h1>
    <div id="updatesWrap" class="updates"></div>
    <div class="hint">This reads from <code>Data/updates.json</code> (capital D). Update that file to change the board.</div>
  </section>

  <!-- CTA -->
  <section id="join" class="section card">
    <h2 style="margin:0 0 8px">Start in 20 Seconds</h2>
    <ol style="margin:0 0 10px;padding-left:18px;opacity:.9">
      <li>Pick a niche</li>
      <li>Paste the prompt</li>
      <li>Render — then save your result</li>
    </ol>
    <a class="btn" href="#" id="try">Join Now</a>
  </section>

  <footer>© 2025 THEGRID · <a href="terms.html">Terms</a> · <a href="privacy.html">Privacy</a></footer>

</div>

<script>
/* ===== Mobile drawer ===== */
(function(){
  const drawer = document.getElementById('drawer');
  const scrim  = document.getElementById('scrim');
  const openBtn= document.getElementById('openMenu');
  const close = ()=>{drawer.classList.remove('open');drawer.setAttribute('aria-hidden','true');scrim.classList.remove('show');};
  const open  = ()=>{drawer.classList.add('open');drawer.setAttribute('aria-hidden','false');scrim.classList.add('show');};
  openBtn?.addEventListener('click',open);
  scrim?.addEventListener('click',close);
  drawer?.querySelectorAll('a').forEach(a=>a.addEventListener('click',close));
})();

/* ===== Fade-in when visible ===== */
const onShow = new IntersectionObserver((entries)=>{
  entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add('show'); onShow.unobserve(e.target); } });
},{threshold:.12});
document.querySelectorAll('.fadein').forEach(el=> onShow.observe(el));

/* ===== HERO: dual mode video/slideshow ===== */
(function(){
  const video = document.getElementById('heroVideo');
  const slides = Array.from(document.querySelectorAll('.heroSlide'));
  const modeToggle = document.getElementById('modeToggle');
  const muteToggle = document.getElementById('muteToggle');
  const hint = document.getElementById('heroHint');
  let timer=null, idx=0, mode='slideshow';

  function startSlideshow(){
    mode='slideshow';
    clearInterval(timer);
    slides.forEach((img,i)=> img.style.display = i===0 ? 'block' : 'none');
    video.style.display='none';
    timer=setInterval(()=>{
      slides[idx].style.display='none';
      idx=(idx+1)%slides.length;
      slides[idx].style.display='block';
    },4000);
    modeToggle.hidden=false; modeToggle.textContent='Switch to Video';
    muteToggle.hidden=true;
    if(hint) hint.textContent='Slideshow mode. Add assets/video/hero.mp4 to enable video.';
  }
  function showVideo(){
    mode='video';
    clearInterval(timer);
    slides.forEach(img=> img.style.display='none');
    video.style.display='block';
    modeToggle.hidden=false; modeToggle.textContent='Switch to Slideshow';
    muteToggle.hidden=false; muteToggle.textContent = video.muted ? 'Unmute' : 'Mute';
    if(hint) hint.textContent='Video playing muted for autoplay. Tap Unmute for sound.';
    video.muted = true;
    video.play().catch(()=>{});
  }
  modeToggle.addEventListener('click',()=> mode==='video' ? startSlideshow() : showVideo());
  muteToggle.addEventListener('click',()=>{
    video.muted = !video.muted;
    muteToggle.textContent = video.muted ? 'Unmute' : 'Mute';
    if(!video.muted){ video.play().catch(()=>{}); }
  });

  (async ()=>{
    try{
      const res = await fetch('assets/video/hero.mp4',{method:'HEAD',cache:'no-store'});
      res.ok ? showVideo() : startSlideshow();
    }catch(e){ startSlideshow(); }
  })();
})();

/* ===== LANDSCAPE reels auto-detector ===== */
(async function(){
  const root = document.getElementById('landscapeReels');
  const max = 8;
  async function exists(p){ try{ const r=await fetch(p,{method:'HEAD',cache:'no-store'}); return r.ok; }catch(e){return false;} }
  for(let n=1;n<=max;n++){
    const p = `assets/video/landscape_${n}.mp4`;
    if(await exists(p)){
      const card = document.createElement('div');
      card.className='reel fadein';
      card.innerHTML = `<div class="frame"><video src="${p}" playsinline muted loop controls></video></div>`;
      root.appendChild(card);
      onShow.observe(card);
    }
  }
})();

/* ===== LIVE UPDATES board (Data/updates.json) ===== */
(async function(){
  const wrap = document.getElementById('updatesWrap');
  const url  = 'Data/updates.json'; // NOTE: capital D to match your repo
  async function load(){
    try{
      const res = await fetch(url+'?t='+(Date.now()),{cache:'no-store'});
      if(!res.ok) throw 0;
      const data = await res.json();
      render(data);
    }catch(e){
      wrap.innerHTML = `<div class="u-card">No updates yet. Create <code>${url}</code> to populate this board.</div>`;
    }
  }
  function render(data){
    wrap.innerHTML = '';
    if(data.last_updated){
      const t = document.createElement('div');
      t.className='hint'; t.style.margin='4px 0 8px';
      t.textContent = `Last updated: ${data.last_updated}`;
      wrap.appendChild(t);
    }
    (data.sections||[]).forEach((sec,i)=>{
      const card = document.createElement('div'); card.className='u-card fadein';
      card.innerHTML = `
        <div class="u-head">
          <div class="u-title">${sec.title||'Untitled'}</div>
          <button class="u-toggle" aria-expanded="true">Collapse</button>
        </div>
        <ul class="u-list">${(sec.items||[]).map(it=>`<li>${it}</li>`).join('')}</ul>
      `;
      const btn = card.querySelector('.u-toggle');
      const list= card.querySelector('.u-list');
      btn.addEventListener('click',()=>{
        const open = btn.getAttribute('aria-expanded')==='true';
        btn.setAttribute('aria-expanded', String(!open));
        btn.textContent = open ? 'Expand' : 'Collapse';
        list.style.display = open ? 'none' : 'block';
      });
      wrap.appendChild(card);
      onShow.observe(card);
    });
  }
  load();
  // Light auto-refresh while page is open
  setInterval(load, 30000);
})();
</script>

<!-- Optional site JS (keep even if empty) -->
<script src="assets/js/main.js"></script>
</body>
</html>
